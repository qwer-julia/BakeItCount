@page "/user/{userId}"
@model BakeItCountWeb.Pages.User.DetailsModel
@{
}

<h1 class="text-6xl font-bungeeInline text-cocoa">@Model.User.Name</h1>
<span class="my-2 font-bold text-2xl font-bungee flex text-peach gap-2">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="size-8">
        <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" />
    </svg>
    @Model.User.Email
</span>

<div class="my-10">
    <h1 class="text-4xl font-bungeeInline text-cocoa">DADOS</h1>
    <span class="my-2 font-bold text-2xl font-bungee flex text-peach gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="size-8">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z" />
        </svg>
        @{
            var pairName = Model.Pair != null
            ? (Model.Pair.User1.UserId == Model.User.UserId
            ? Model.Pair.User2.Name
            : Model.Pair.User1.Name)
            : "Sem dupla";
        }
        @pairName

    </span>
    <span class="my-2 font-bold text-2xl font-bungee flex text-peach gap-2">

        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-8">
            <path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z" clip-rule="evenodd" />
        </svg>
        @Model.FavoriteFlavor.Name
    </span>

    <span class="my-2 font-bold text-2xl font-bungee flex text-peach gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="size-8">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 8.25v-1.5m0 1.5c-1.355 0-2.697.056-4.024.166C6.845 8.51 6 9.473 6 10.608v2.513m6-4.871c1.355 0 2.697.056 4.024.166C17.155 8.51 18 9.473 18 10.608v2.513M15 8.25v-1.5m-6 1.5v-1.5m12 9.75-1.5.75a3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0L3 16.5m15-3.379a48.474 48.474 0 0 0-6-.371c-2.032 0-4.034.126-6 .371m12 0c.39.049.777.102 1.163.16 1.07.16 1.837 1.094 1.837 2.175v5.169c0 .621-.504 1.125-1.125 1.125H4.125A1.125 1.125 0 0 1 3 20.625v-5.17c0-1.08.768-2.014 1.837-2.174A47.78 47.78 0 0 1 6 13.12M12.265 3.11a.375.375 0 1 1-.53 0L12 2.845l.265.265Zm-3 0a.375.375 0 1 1-.53 0L9 2.845l.265.265Zm6 0a.375.375 0 1 1-.53 0L15 2.845l.265.265Z" />
        </svg>
        @Model.PurchaseList.Count()
    </span>
</div>

<div class="my-10">
    <h1 class="text-4xl font-bungeeInline text-cocoa">HISTÓRICO </h1>

    <div class="border-3 border-cocoa rounded-xl max-w-2xl my-2">
        <table class="w-full mx-auto border-2 border-cocoa rounded-xl overflow-hidden text-cocoa">
            <thead class="bg-opacity-10 font-bold" style="background-color: rgba(92,64,51,0.06);">
                <tr>
                    <th class="px-4 py-3 text-left "> </th>
                    <th class="px-4 py-3 text-left  ">DATA</th>
                    <th class="px-4 py-3 text-left "> DUPLA</th>
                    <th class="px-4 py-3 text-left "> SABORES</th>
                </tr>
            </thead>

            <tbody class="font-semibold">
                @foreach (var purchase in Model.PurchaseList)
                {
                    <tr>
                        <td class="px-4 py-3 text-sm text-mint">
                            <a href="@($"/purchase/{purchase.PurchaseId}")">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-8 hover:text-mint-light">
                                    <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V9Z" clip-rule="evenodd" />
                                </svg>
                            </a>
                        </td>
                        <td class="px-4 py-3 text-sm">@purchase.Schedule.WeekRef.ToString("dd/MM/yyyy")</td>
                        <td class="px-4 py-3 text-sm">@purchase.Schedule.Pair.User1.Name & @purchase.Schedule.Pair.User2.Name</td>
                        <td class="px-4 py-3 text-sm">@purchase.Flavor1.Name e @purchase.Flavor2.Name</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<div class="my-10">
    <h1 class="text-4xl font-bungeeInline text-cocoa">CONQUISTAS</h1>

    <span class="my-2 font-bold text-2xl font-bungee flex text-peach gap-2">
        Total: @Model.UserAchievements.Count()
    </span>

    <div class="my-4 flex gap-4">
        @foreach (var achievement in Model.UserAchievements)
        {
            <a class="hover:bg-cocoa-light bg-cocoa rounded-2xl p-4 flex gap-4 text-beige font-semibold hover:text-beige cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="size-8 mt-1">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0" />
                </svg>
                <div class="flex flex-col">
                    @achievement.Name
                    <span class="text-sm"> 21/09/2025</span>
                </div>
            </a>
        }
    </div>
</div>
